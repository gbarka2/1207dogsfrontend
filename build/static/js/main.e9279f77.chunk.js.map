{"version":3,"sources":["Display.js","Form.js","App.js","index.js"],"names":["Display","props","dogs","length","style","textAlign","map","dog","key","_id","src","img","alt","name","age","onClick","selectDog","history","push","deleteDog","Form","React","useState","formData","setFormData","handleChange","event","target","value","onSubmit","preventDefault","handleSubmit","type","placeholder","onChange","label","App","url","setDogs","emptyDog","selectedDog","setSelectedDog","getDogs","fetch","then","response","json","data","useEffect","handleCreate","newDog","method","headers","body","JSON","stringify","handleUpdate","className","to","exact","path","render","rp","ReactDOM","StrictMode","document","getElementById"],"mappings":"qQA+BeA,EA7BC,SAACC,GAAU,IAElBC,EAAQD,EAARC,KAwBL,OAAOA,EAAKC,OAAS,EArBb,yBAAKC,MAAO,CAACC,UAAW,WAC/BH,EAAKI,KAAI,SAAAC,GACR,OAAQ,6BAASC,IAAKD,EAAIE,KACxB,yBAAKC,IAAKH,EAAII,IAAKC,IAAI,qBACvB,4BAAKL,EAAIM,MACT,4BAAKN,EAAIO,KACT,4BAAQC,QAAS,WACfd,EAAMe,UAAUT,GAChBN,EAAMgB,QAAQC,KAAK,WAFrB,YAIA,4BAAQH,QAAS,WACfd,EAAMkB,UAAUZ,KADlB,mBASG,2C,eCmBIa,EA3CF,SAACnB,GAAU,MAEUoB,IAAMC,SAASrB,EAAMM,KAF/B,mBAEfgB,EAFe,KAELC,EAFK,KAWhBC,EAAe,SAACC,GACpBF,EAAY,2BAAKD,GAAN,kBAAiBG,EAAMC,OAAOd,KAAOa,EAAMC,OAAOC,UAG/D,OACE,0BAAMC,SAXa,SAACH,GACpBA,EAAMI,iBACN7B,EAAM8B,aAAaR,GACnBtB,EAAMgB,QAAQC,KAAK,OASjB,2BACEc,KAAK,OACLnB,KAAK,OACLoB,YAAY,OACZL,MAAOL,EAASV,KAChBqB,SAAUT,IAEZ,2BACEO,KAAK,SACLnB,KAAK,MACLoB,YAAY,MACZL,MAAOL,EAAST,IAChBoB,SAAUT,IAEZ,2BACEO,KAAK,OACLnB,KAAK,MACLoB,YAAY,YACZL,MAAOL,EAASZ,IAChBuB,SAAUT,IAEZ,2BAAOO,KAAK,SAASJ,MAAO3B,EAAMkC,UCqEzBC,MAvGf,WAGE,IAAMC,EAAM,mCAHC,EAKWhB,IAAMC,SAAS,IAL1B,mBAKNpB,EALM,KAKAoC,EALA,KAQPC,EAAW,CACf1B,KAAM,GACNC,IAAK,EACLH,IAAK,IAXM,EAcyBU,IAAMC,SAASiB,GAdxC,mBAcNC,EAdM,KAcOC,EAdP,KAiBPC,EAAU,WACdC,MAAMN,EAAM,QACXO,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAG,GACJT,EAAQS,OAIZ1B,IAAM2B,WAAU,WACdN,MACC,IAEH,IAAMO,EAAe,SAACC,GACpBP,MAAMN,EAAM,OAAQ,CAClBc,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUL,KAEtBN,MAAK,WACJF,QAIE1B,EAAY,SAACT,GACjBkC,EAAelC,IAGXiD,EAAe,SAACjD,GACpBoC,MAAMN,EAAM,QAAU9B,EAAIE,IAAI,CAC5B0C,OAAQ,MACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUhD,KAEtBqC,MAAK,WACJF,QAKEvB,EAAY,SAACZ,GACjBoC,MAAMN,EAAM,QAAU9B,EAAIE,IAAK,CAC7B0C,OAAQ,WAETP,MAAK,WACJF,QAIJ,OACE,yBAAKe,UAAU,OACb,gDACA,kBAAC,IAAD,CAAMC,GAAG,WACT,iDAEA,6BACA,8BACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,OAAK,EACLC,KAAK,IACLC,OAAQ,SAACC,GAAD,OAAQ,kBAAC,EAAD,iBAAaA,EAAb,CAAiB5D,KAAMA,EAAKc,UAAWA,EAAWG,UAAWA,QAE/E,kBAAC,IAAD,CACEwC,OAAK,EACLC,KAAK,UACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,EAAD,iBAAUA,EAAV,CAAc3B,MAAM,SAAS5B,IAAKgC,EAAUR,aAAckB,QAG9D,kBAAC,IAAD,CACEU,OAAK,EACLC,KAAK,QACLC,OAAQ,SAACC,GAAD,OACN,kBAAC,EAAD,iBAAUA,EAAV,CAAc3B,MAAM,SAAS5B,IAAKiC,EAAaT,aAAcyB,Y,MC7F3EO,IAASF,OACP,kBAAC,IAAD,KACE,kBAAC,IAAMG,WAAP,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.e9279f77.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Display = (props) => {\n  //destructure dogs from props\n  const {dogs} = props\n  //loading function for if dogs exist\n  const loaded = () => {\n    return (<div style={{textAlign: \"center\"}}>\n    {dogs.map(dog => {\n      return (<article key={dog._id}>\n        <img src={dog.img} alt='dog-for-adoption'/>\n        <h1>{dog.name}</h1>\n        <h3>{dog.age}</h3>\n        <button onClick={() => {\n          props.selectDog(dog)\n          props.history.push(\"/edit\")\n        }}>Edit Dog</button>\n        <button onClick={() => {\n          props.deleteDog(dog)\n        }}>Delete Dog</button>\n      </article>)\n    })}\n    </div>)\n  }\n\n  const loading = () => {\n    return <h1>Loading...</h1>\n  }\n    return dogs.length > 0 ? loaded() : loading()\n    \n  }\nexport default Display\n","import React from \"react\";\n\nconst Form = (props) => {\n  //STATE FOR THE FORM\n  const [formData, setFormData] = React.useState(props.dog);\n\n  //FUNCTIONS\n  const handleSubmit = (event) => {\n    event.preventDefault(); // Prevent Form from Refreshing\n    props.handleSubmit(formData); // Submit to Parents desired function\n    props.history.push(\"/\"); //Push back to display page\n  };\n\n  const handleChange = (event) => {\n    setFormData({ ...formData, [event.target.name]: event.target.value });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        type=\"text\"\n        name=\"name\"\n        placeholder=\"Name\"\n        value={formData.name}\n        onChange={handleChange}\n      />\n      <input\n        type=\"number\"\n        name=\"age\"\n        placeholder=\"Age\"\n        value={formData.age}\n        onChange={handleChange}\n      />\n      <input\n        type=\"text\"\n        name=\"img\"\n        placeholder=\"Image URL\"\n        value={formData.img}\n        onChange={handleChange}\n      />\n      <input type=\"submit\" value={props.label} />\n    </form>\n  );\n};\n\nexport default Form;\n","import React from \"react\";\nimport \"./App.css\";\nimport { Route, Link, Switch } from \"react-router-dom\";\nimport Display from \"./Display\";\nimport Form from \"./Form\";\n\nfunction App() {\n  //url variable\n  // const url = \"http://localhost:4500\"\n  const url = \"https://dogsgb1207.herokuapp.com\"\n  //list of dogs state\n  const [dogs, setDogs] = React.useState([])\n\n  //empty dog\n  const emptyDog = {\n    name: \"\",\n    age: 0,\n    img: \"\"\n  }\n  //state to track dog to edit\n  const [selectedDog, setSelectedDog] = React.useState(emptyDog)\n\n  //create function to get list of dogs\n  const getDogs = () => {\n    fetch(url + \"/dog\")\n    .then(response => response.json())\n    .then(data => {\n      setDogs(data)\n    })\n  }\n  //fetch dogs when page loads\n  React.useEffect(() => {\n    getDogs()\n  }, [])\n  //handle create function for creating dogs\n  const handleCreate = (newDog) => {\n    fetch(url + \"/dog\", {\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newDog)\n    })\n    .then(() => {\n      getDogs()\n    })\n  }\n  //function for selected dog\n  const selectDog = (dog) => {\n    setSelectedDog(dog)\n  }\n  //handle update of dog\n  const handleUpdate = (dog) => {\n    fetch(url + \"/dog/\" + dog._id,{\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(dog)\n    })\n    .then(() => {\n      getDogs()\n    })\n  }\n\n  //deletes a dog\n  const deleteDog = (dog) => {\n    fetch(url + \"/dog/\" + dog._id, {\n      method: \"delete\"\n    })\n    .then(() => {\n      getDogs()\n    })\n  }\n\n  return (\n    <div className=\"App\">\n      <h1>DOG LISTING SITE</h1>\n      <Link to=\"/create\">\n      <button>Create a Dog</button>\n      </Link>\n      <hr />\n      <main>\n        <Switch>\n          <Route \n            exact \n            path=\"/\" \n            render={(rp) => <Display {...rp} dogs={dogs}selectDog={selectDog} deleteDog={deleteDog}/>}\n          />\n          <Route\n            exact\n            path=\"/create\"\n            render={(rp) => (\n              <Form {...rp} label=\"create\" dog={emptyDog} handleSubmit={handleCreate} />\n            )}\n          />\n          <Route\n            exact\n            path=\"/edit\"\n            render={(rp) => (\n              <Form {...rp} label=\"update\" dog={selectedDog} handleSubmit={handleUpdate} />\n            )}\n          />\n        </Switch>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"milligram\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <Router>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}